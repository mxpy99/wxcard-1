<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wxccase.dao.CardcaseDao" >
	<insert id="insertCard" parameterType="com.wxccase.entity.Cardcase">
			INSERT INTO CARDINFO(CARDID,USERID,CLASSIFYID,USERNAME,PROFESSION,GENDER,CARDDESCRIBE,COMPANY,ADDRESS,QQNUMBER,WECHATNUMBER,PHONENUMBER,TELEPHONENUMBER,FAXNUMBER,WEBSITE,MAIL) 
			VALUES(#{cardid}, #{userid}, #{classifyid}, #{username}, #{profession}, #{gender}, #{carddescribe}, #{company}, #{address}, #{qqnumber}, #{wechatnumber}, #{phonenumber}, #{telephonenumber}, #{faxnumber}, #{website}, #{mail}) 
	</insert>
	
	<update id="updateCard" parameterType="com.wxccase.entity.Cardcase">
			UPDATE CARDINFO 
			SET 
			   CLASSIFYID = #{classifyid},USERNAME = #{username},PROFESSION = #{profession},GENDER = #{gender},CARDDESCRIBE = #{carddescribe},COMPANY = #{company},ADDRESS = #{address},QQNUMBER = #{qqnumber},WECHATNUMBER = #{wechatnumber},PHONENUMBER = #{phonenumber},TELEPHONENUMBER = #{telephonenumber}, FAXNUMBER = #{faxnumber} ,WEBSITE = #{website},MAIL = #{mail} 
			where
			   CARDID = #{cardid}
	</update>
	
	<update id="updateCardClassify" parameterType="java.util.Map">
		update cardinfo set classifyid = #{new_classifyid} where classifyid = #{old_classifyid}
	</update>
	
	<update id="updateCardIcon" parameterType="java.util.Map">
		update cardinfo set icon = #{icon} where userid = #{userid}
	</update>
	
	<select id="selectCard" parameterType="java.util.Map" resultType="com.wxccase.entity.Cardcase">
	    select * from cardinfo where userid = #{userid}
	     <if test="classifyid != null"> AND classifyid = #{classifyid} </if>
	     limit #{start},#{size}
	</select>
	
	<select id="selectCardDetail" parameterType="java.util.Map" resultType="com.wxccase.entity.Cardcase">
	    select * from cardinfo where cardid = #{cardid}
	</select>
	
	<select id="selectCardCount" parameterType="java.util.Map" resultType="string">
		select count(cardid) from cardinfo where userid = #{userid}   <if test="classifyid != null"> AND classifyid = #{classifyid} </if>
	</select>
	
	<delete id="deleteCard" parameterType="java.util.Map">
		delete from cardinfo where cardid = #{cardid}
	</delete>
</mapper>